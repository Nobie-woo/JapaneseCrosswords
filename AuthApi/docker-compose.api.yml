services:
  api:

    build:

      context: ./AuthApi

      dockerfile: Dockerfile

    ports:

      - "8080:80"

    depends_on:

      - db
    environment:

      - ASPNETCORE_ENVIRONMENT=Development

      - CONNECTION_STRING=Host=db;Port=5432;Database=${DB_NAME};Username=${DB_USER};Password=${DB_PASSWORD};SslMode=Require

      - POSTGRES_DB=${DB_NAME}

      - POSTGRES_USER=${DB_USER}

      - POSTGRES_PASSWORD=${DB_PASSWORD}